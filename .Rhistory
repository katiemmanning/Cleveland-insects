#load vegan
library(vegan)
#calculate Shannon diversity
diversity <-diversity(allbugs19[,5:44])
allbugs19$diversity <-diversity
#calculate Evenness
evenness <-diversity/log(specnumber(allbugs19[,5:44]))
allbugs19$evenness <- evenness
summary(allbugs19)
str(allbugs19)
#add data subset for green roof sites
greenroofbugs19 <- allbugs19[ which(allbugs19$sitetype=="Greenroof"), ]
#add column for green roof functional intent (stormwater-energy and biodiversity-ecological)
greenroofbugs19$design<-ifelse(greenroofbugs19$Site=="EWB", "SE",
ifelse(greenroofbugs19$Site=="WSC", "SE", "BE"))
str(greenroofbugs19)
#add data subset for natural sites
naturalbugs19 <- allbugs19[ which(allbugs19$sitetype=="Natural"), ]
str(naturalbugs19)
######
#bring in 2021 data sets
bowls21 <- read.csv("https://raw.githubusercontent.com/katiemmanning/Cleveland-insects/main/Insect%20ID%202021%20-%20Bowl.csv",na.strings = NULL)
summary(bowls21)
str(bowls21)
jars21 <- read.csv("https://raw.githubusercontent.com/katiemmanning/Cleveland-insects/main/Insect%20ID%202021%20-%20Jar.csv",na.strings = NULL)
summary(jars21)
str(jars21)
sticky21 <- read.csv("https://raw.githubusercontent.com/katiemmanning/Cleveland-insects/main/Insect%20ID%202021%20-%20Sticky%20card.csv",na.strings = NULL)
summary(sticky21)
str(sticky21)
bowls21$Trap="bowl"
jars21$Trap="jar"
sticky21$Trap="sticky"
#combine data tables
##rbind.fill instead of rbind let's us have datasets with different columns (but then you'd have to get rid of NAs)
#library (plyr)
bowljar21 <- rbind.fill (bowls21, jars21)
allbugs21 <-rbind.fill (bowljar21, sticky21)
#add column for natural vs green roof
allbugs21$sitetype<-ifelse(allbugs21$Site=="SSH", "Natural",
ifelse(allbugs21$Site=="DGM", "Natural",
ifelse(allbugs21$Site=="BFB", "Natural", "Greenroof")))
str(allbugs21)
#To obtain richness counts
allbugs21.rowsums <- rowSums(allbugs21[,5:44]>0)
allbugs21$richness <- allbugs21.rowsums
#To obtain abundance counts
allbugs21.abun <- rowSums(allbugs21[,5:44])
allbugs21$abundance <- allbugs21.abun
#calculate Shannon diversity
diversity <-diversity(allbugs21[,5:44])
allbugs21$diversity <-diversity
#calculate Evenness
evenness <-diversity/log(specnumber(allbugs21[,5:44]))
allbugs21$evenness <- evenness
summary(allbugs21)
str(allbugs21)
#add data subset for green roof sites
greenroofbugs21 <- allbugs21[ which(allbugs21$sitetype=="Greenroof"), ]
#add column for green roof functional intent (stormwater-energy and biodiversity-ecological)
greenroofbugs21$design<-ifelse(greenroofbugs21$Site=="EWB", "SE",
ifelse(greenroofbugs21$Site=="WSC", "SE", "BE"))
str(greenroofbugs21)
#add data subset for natural sites
naturalbugs21 <- allbugs21[ which(allbugs21$sitetype=="Natural"), ]
str(naturalbugs21)
#put together all 2019 and 2021 data
allbugs <- rbind.fill (allbugs19, allbugs21)
str (allbugs)
library (emmeans) #for pairwise comparisons
library (lme4) #for linear mixed effects models
library (lmerTest) #to obtain p values for linear mixed effects models
library (multcompView) #to view letters
library (nortest)
library (bbmle)
library (DHARMa)
library (ggplot2)
library (sjPlot)
library (jtools)
library (interactions)
##richness linear model
richmodel <- lmer(richness~Date + sitetype + Trap (1|Site:Replicate), data=allbugs)  #AIC = 1726
summary(richmodel)
##richness linear model
richmodel <- lmer(richness~Date + sitetype + Trap + (1|Site:Replicate), data=allbugs)  #AIC = 1726
summary(richmodel)
AIC(richmodel)
anova(richmodel)
rich.emm<-emmeans(richmodel,pairwise~sitetype) #comparing natural vs GR
rich.emm
#results: difference between natural and green roofs (p < 0.0001)
rich.cld<-multcomp::cld(rich.emm, alpha = 0.05, Letters = LETTERS)
rich.cld
rich.emm.s<-emmeans(richmodel,pairwise~Site)
rich.emm.s
rich.emm.t<-emmeans(richmodel,pairwise~Trap)
rich.emm.t
#results: significant difference between all trap types
rich.cld.t<-multcomp::cld(rich.emm.t, alpha = 0.05, Letters = LETTERS)
rich.cld.t
#check assumptions
dotchart(allbugs$richness, main = "richness") # way to visualize outliers
with(allbugs, ad.test(richness)) #Anderson-darling test for normality (good for small sample sizes), low p-value means assumption is violated
with(allbugs, bartlett.test(richness ~ sitetype)) #Bartlett test for homogeneity of variance, low p-value means assumption is violated
plot(richmodel) # check distribution of residuals
# check normality with these figures, are there outliers at either end
qqnorm(resid(richmodel))
qqline(resid(richmodel))
plot(simulateResiduals(richmodel)) # another way to check for normality and homogeneity of variance
densityPlot(rstudent(richmodel)) # check density estimate of the distribution of residuals
densityPlot(rstudent(richmodel)) # check density estimate of the distribution of residuals
# check for outliers influencing the data
outlierTest(richmodel)
##abundance linear model
abunmodel <- lmer(abundance~Date + sitetype + Trap + (1|Site:Replicate), data=allbugs)  #AIC = 6307
summary(abunmodel)
AIC(abunmodel)
anova(abunmodel)
abun.emm<-emmeans(abunmodel,pairwise~sitetype)
abun.emm
#results: difference between natural and green roofs (p=0.0289)
abun.cld<-multcomp::cld(abun.emm, alpha = 0.05, Letters = LETTERS)
abun.cld
abun.emm.t<-emmeans(abunmodel,pairwise~Trap)
abun.emm.t
#results: same for all except difference between bowl-sticky and jar-sticky
abun.cld.t<-multcomp::cld(abun.emm.t, alpha = 0.05, Letters = LETTERS)
abun.cld.t
#check assumptions
dotchart(allbugs$abundance, main = "abundance") # way to visualize outliers
with(allbugs, ad.test(abundance)) #Anderson-darling test for normality (good for small sample sizes), low p-value means assumption is violated
with(allbugs, bartlett.test(abundance ~ sitetype)) #Bartlett test for homogeneity of variance, low p-value means assumption is violated
plot(abunmodel) # check distribution of residuals
# check normality with these figures, are there outliers at either end
qqnorm(resid(abunmodel))
qqline(resid(abunmodel))
plot(simulateResiduals(abunmodel)) # another way to check for normality and homogeneity of variance
##diversity linear model
divmodel <- lmer(diversity~Date + sitetype + Trap + (1|Site:Replicate), data=allbugs)  #AIC = 487
summary(divmodel)
AIC(divmodel)
anova(divmodel)
div.emm<-emmeans(divmodel,pairwise~sitetype)
div.emm
#results: no difference between natural and green roofs (p=0.445)
div.cld<-multcomp::cld(div.emm, alpha = 0.05, Letters = LETTERS)
div.cld
div.emm.t<-emmeans(divmodel,pairwise~Trap)
div.emm.t
View(allbugs)
######
#bring in 2021 data sets
bowls21 <- read.csv("https://raw.githubusercontent.com/katiemmanning/Cleveland-insects/main/Insect%20ID%202021%20-%20Bowl.csv",na.strings = NULL)
summary(bowls21)
str(bowls21)
jars21 <- read.csv("https://raw.githubusercontent.com/katiemmanning/Cleveland-insects/main/Insect%20ID%202021%20-%20Jar.csv",na.strings = NULL)
summary(jars21)
str(jars21)
sticky21 <- read.csv("https://raw.githubusercontent.com/katiemmanning/Cleveland-insects/main/Insect%20ID%202021%20-%20Sticky%20card.csv",na.strings = NULL)
summary(sticky21)
str(sticky21)
bowls21$Trap="bowl"
jars21$Trap="jar"
sticky21$Trap="sticky"
View(allbugs)
bowls19 <- read.csv("https://raw.githubusercontent.com/katiemmanning/Cleveland-insects/main/Insect%20ID%202019%20-%20Bowl_cleveland.csv",na.strings = NULL)
summary(bowls19)
str(bowls19)
ramps19 <- read.csv("https://raw.githubusercontent.com/katiemmanning/Cleveland-insects/main/Insect%20ID%202019%20-%20Ramp_cleveland.csv",na.strings = NULL)
summary(ramps19)
str(ramps19)
sticky19 <- read.csv("https://raw.githubusercontent.com/katiemmanning/Cleveland-insects/main/Insect%20ID%202019%20-%20Sticky%20card_cleveland.csv",na.strings = NULL)
summary(sticky19)
str(sticky19)
bowls19$Trap="bowl"
ramps19$Trap="ramp"
sticky19$Trap="sticky"
View(ramps19)
library (plyr)
bowlramp19 <- rbind.fill (bowls19, ramps19)
allbugs19 <-rbind.fill (bowlramp19, sticky19)
#add column for natural vs green roof
allbugs19$sitetype<-ifelse(allbugs19$Site=="SSH", "Natural",
ifelse(allbugs19$Site=="DGM", "Natural",
ifelse(allbugs19$Site=="BFB", "Natural", "Greenroof")))
str(allbugs19)
allbugs19.rowsums <- rowSums(allbugs19[,5:44]>0)
allbugs19$richness <- allbugs19.rowsums
#To obtain abundance counts
allbugs19.abun <- rowSums(allbugs19[,5:44])
allbugs19$abundance <- allbugs19.abun
#load vegan
library(vegan)
#calculate Shannon diversity
diversity <-diversity(allbugs19[,5:44])
allbugs19$diversity <-diversity
#calculate Evenness
evenness <-diversity/log(specnumber(allbugs19[,5:44]))
allbugs19$evenness <- evenness
summary(allbugs19)
str(allbugs19)
greenroofbugs19 <- allbugs19[ which(allbugs19$sitetype=="Greenroof"), ]
#add column for green roof functional intent (stormwater-energy and biodiversity-ecological)
greenroofbugs19$design<-ifelse(greenroofbugs19$Site=="EWB", "SE",
ifelse(greenroofbugs19$Site=="WSC", "SE", "BE"))
str(greenroofbugs19)
#add data subset for natural sites
naturalbugs19 <- allbugs19[ which(allbugs19$sitetype=="Natural"), ]
str(naturalbugs19)
#put together all 2019 and 2021 data
allbugs <- rbind.fill (allbugs19, allbugs21)
str (allbugs)
View(allbugs)
##richness linear model
richmodel <- lmer(richness~Date + sitetype + Trap + (1|Site:Replicate), data=allbugs)  #AIC = 794
summary(richmodel)
AIC(richmodel)
##richness linear model
richmodel <- lmer(richness~Date + sitetype + Trap + (1|Site:Replicate), data=allbugs)  #AIC = 794
summary(richmodel)
AIC(richmodel)
anova(richmodel)
rich.emm<-emmeans(richmodel,pairwise~sitetype) #comparing natural vs GR
rich.emm
#results: difference between natural and green roofs (p = 0.03)
rich.cld<-multcomp::cld(rich.emm, alpha = 0.05, Letters = LETTERS)
rich.cld
rich.emm.t<-emmeans(richmodel,pairwise~Trap)
rich.emm.t
#results: significant difference between all trap types
rich.cld.t<-multcomp::cld(rich.emm.t, alpha = 0.05, Letters = LETTERS)
rich.cld.t
#check assumptions
dotchart(allbugs$richness, main = "richness") # way to visualize outliers
with(allbugs, ad.test(richness)) #Anderson-darling test for normality (good for small sample sizes), low p-value means assumption is violated
with(allbugs, bartlett.test(richness ~ sitetype)) #Bartlett test for homogeneity of variance, low p-value means assumption is violated
plot(richmodel) # check distribution of residuals
# check normality with these figures, are there outliers at either end
qqnorm(resid(richmodel))
qqline(resid(richmodel))
plot(simulateResiduals(richmodel)) # another way to check for normality and homogeneity of variance
#NOT INCLUDING
##abundance linear model
abunmodel <- lmer(abundance~Date + sitetype + Trap + (1|Site:Replicate), data=allbugs)  #AIC = 3031
summary(abunmodel)
AIC(abunmodel)
anova(abunmodel)
abun.emm<-emmeans(abunmodel,pairwise~sitetype)
abun.emm
#results: no difference between natural and green roofs (p=0.056)
abun.cld<-multcomp::cld(abun.emm, alpha = 0.05, Letters = LETTERS)
abun.cld
abun.emm.t<-emmeans(abunmodel,pairwise~Trap)
abun.emm.t
#results: no difference between any except bowl-sticky (p=0.0036) and jar-sticky (p=0.0067)
abun.cld.t<-multcomp::cld(abun.emm.t, alpha = 0.05, Letters = LETTERS)
abun.cld.t
plot(simulateResiduals(abunmodel)) # another way to check for normality and homogeneity of variance
##diversity linear model
divmodel <- lmer(diversity~Date + sitetype + Trap + (1|Site:Replicate), data=allbugs)  #AIC = 293
summary(divmodel)
AIC(divmodel)
anova(divmodel)
div.emm<-emmeans(divmodel,pairwise~sitetype)
div.emm
#results: no difference between natural and green roofs (p=0.5287)
div.cld<-multcomp::cld(div.emm, alpha = 0.05, Letters = LETTERS)
div.cld
div.emm.t<-emmeans(divmodel,pairwise~Trap)
div.emm.t
#check assumptions
dotchart(allbugs$diversity, main = "diversity") # way to visualize outliers
with(allbugs, ad.test(diversity)) #Anderson-darling test for normality (good for small sample sizes), low p-value means assumption is violated
with(allbugs, bartlett.test(diversity ~ sitetype)) #Bartlett test for homogeneity of variance, low p-value means assumption is violated
plot(divmodel) # check distribution of residuals
# check normality with these figures, are there outliers at either end
qqnorm(resid(divmodel))
qqline(resid(divmodel))
plot(simulateResiduals(divmodel)) # another way to check for normailty and homogeneity of variance
densityPlot(rstudent(divmodel)) # check density estimate of the distribution of residuals
# check for outliers influencing the data
outlierTest(divmodel)
influenceIndexPlot(divmodel, vars = c("Cook"), id = list(n = 3))
#NOT INCLUDING
##evenness linear model
evenmodel <- lmer(evenness~Date + sitetype + Trap + (1|Site:Replicate), data=allbugs)  #AIC = -141
summary(evenmodel)
AIC(evenmodel)
anova(evenmodel)
even.emm<-emmeans(evenmodel,pairwise~sitetype)
even.emm
#results: difference between natural and green roofs (p = 0.0003)
even.cld<-multcomp::cld(even.emm, alpha = 0.05, Letters = LETTERS)
even.cld
even.emm.t<-emmeans(evenmodel,pairwise~Trap)
even.emm.t
#results: sticky sig diff than all, everything else no difference
even.cld.t<-multcomp::cld(even.emm.t, alpha = 0.05, Letters = LETTERS)
even.cld.t
#check assumptions
dotchart(allbugs$evenness, main = "evenness") # way to visualize outliers
with(allbugs, ad.test(evenness)) #Anderson-darling test for normality (good for small sample sizes), low p-value means assumption is violated
with(allbugs, bartlett.test(evenness ~ sitetype)) #Bartlett test for homogeneity of variance, low p-value means assumption is violated
plot(evenmodel) # check distribution of residuals
# check normality with these figures, are there outliers at either end
qqnorm(resid(evenmodel))
qqline(resid(evenmodel))
plot(simulateResiduals(evenmodel)) # another way to check for normailty and homogeneity of variance
#######
#ggplot box plots
library (ggplot2)
densityPlot(rstudent(evenmodel)) # check density estimate of the distribution of residuals
#######
#ggplot box plots
library (ggplot2)
#site richness by site type
richness.plot<-ggplot(allbugs, aes(x = factor(sitetype,level = c("Natural","Greenroof")), y = richness, fill=Site))+
geom_boxplot()+
theme_bw()+
theme(legend.position="bottom")+
labs(title="", x="", y="Richness")+
#theme (plot.title = element_text(hjust=0.5))+
#geom_text(data=rich.cld, aes(y = 25, label = .group))+
scale_fill_brewer(palette="Paired",name="Sites:",
breaks=c("BFB", "DGM", "SSH", "EWB", "WSC", "HDB", "SNC"),
labels=c("Bedford barren","Dusty goldenrod meadow", "Slate shale hill", "Edgewater beach", "Watershed stewardship center", "Happy dog bike box", "Shaker Lakes nature center"))
richness.plot
#site abundance by site type
abundance.plot<-ggplot(allbugs, aes(x = factor(sitetype,level = c("Natural","Greenroof")), y = abundance, fill=Site))+
geom_boxplot()+
theme_bw()+
theme(legend.position="bottom")+
labs(title="", x="", y="Abundance (log10)")+
scale_y_continuous(trans="log10")+
#theme (plot.title = element_text(hjust=0.5))+
#geom_text(data=abun.cld, aes(y = 25, label = .group))+
scale_fill_brewer(palette="Paired",name="Sites:",
breaks=c("BFB", "DGM", "SSH", "EWB", "WSC", "HDB", "SNC"),
labels=c("Bedford barren","Dusty goldenrod meadow", "Slate shale hill", "Edgewater beach", "Watershed stewardship center", "Happy dog bike box", "Shaker Lakes nature center"))
abundance.plot
#site diversity by site type
diversity.plot<-ggplot(allbugs, aes(x = factor(sitetype,level = c("Natural","Greenroof")), y = diversity, fill=Site))+
geom_boxplot()+
theme_bw()+
theme(legend.position="bottom")+
labs(title="", x="", y="Diversity")+
#theme (plot.title = element_text(hjust=0.5))+
#geom_text(data=div.cld.s, aes(y = 2, label = .group))+
scale_fill_brewer(palette="Paired",name="Sites:",
breaks=c("BFB", "DGM", "SSH", "EWB", "WSC", "HDB", "SNC"),
labels=c("Bedford barren","Dusty goldenrod meadow", "Slate shale hill", "Edgewater beach", "Watershed stewardship center", "Happy dog bike box", "Shaker Lakes nature center"))
diversity.plot
#site evenness by site type
evenness.plot<-ggplot(allbugs, aes(x = factor(sitetype,level = c("Natural","Greenroof")), y = evenness, fill=Site))+
geom_boxplot()+
theme_bw()+
theme(legend.position="bottom")+
labs(title="", x="", y="Evenness")+
#theme (plot.title = element_text(hjust=0.5))+
#geom_text(data=even.cld.s, aes(y = 25, label = .group))+
scale_fill_brewer(palette="Paired",name="Sites:",
breaks=c("BFB", "DGM", "SSH", "EWB", "WSC", "HDB", "SNC"),
labels=c("Bedford barren","Dusty goldenrod meadow", "Slate shale hill", "Edgewater beach", "Watershed stewardship center", "Happy dog bike box", "Shaker Lakes nature center"))
evenness.plot
###
#mush together plots
library(ggpubr)
allbugs_boxplot <- ggarrange(richness.plot, diversity.plot,
#labels = c("A", "B"),
ncol = 1, nrow = 2,
common.legend = TRUE, legend = "bottom")
allbugs_boxplot
pdf("allbugs_boxplot.pdf", height=8, width=8) #height and width in inches
allbugs_boxplot
dev.off()
#put together all 2019 and 2021 data
greenroofbugs <- rbind.fill (greenroofbugs19, greenroofbugs21)
str (greenroofbugs)
##richness linear model
richmodel.d <- lm(richness~Date + Site + design + Trap, data=greenroofbugs)  #AIC = 927
##richness linear model
richmodel.d <- lmer(richness~Date + design + Trap + (1|Site:Replicate), data=greenroofbugs)  #AIC = 927
summary(richmodel.d)
##richness model
richmodel.d <- lmer(richness~Date + design + Trap + (1|Site:Replicate), data=greenroofbugs)  #AIC = 927
summary(richmodel.d)
AIC(richmodel.d)
anova(richmodel.d)
rich.emm.d<-emmeans(richmodel.d,pairwise~design) #comparing SE vs BE
rich.emm.d
rich.emm.t<-emmeans(richmodel.d,pairwise~Trap)
rich.emm.t
#results: sig diff between all except bowl-ramp
rich.cld.t<-multcomp::cld(rich.emm.t, alpha = 0.05, Letters = LETTERS)
rich.cld.t
#check assumptions
dotchart(greenroofbugs$richness, main = "richness") # way to visualize outliers
with(greenroofbugs, ad.test(richness)) #Anderson-darling test for normality (good for small sample sizes), low p-value means assumption is violated
with(greenroofbugs, bartlett.test(richness ~ design)) #Bartlett test for homogeneity of variance, low p-value means assumption is violated
plot(richmodel.d) # check distribution of residuals
plot(simulateResiduals(richmodel.d)) # another way to check for normailty and homogeneity of variance
##abundance linear model
abunmodel.d <- lmer(abundance~Date + design + Trap + (1|Site:Replicate), data=greenroofbugs)  #AIC = 2777
summary(abunmodel.d)
AIC(abunmodel.d)
anova(abunmodel.d)
abun.emm.d<-emmeans(abunmodel.d,pairwise~design)
abun.emm.d
#results: difference btw design types (p=0.0273)
abun.cld.d<-multcomp::cld(abun.emm.d, alpha = 0.05, Letters = LETTERS)
abun.cld.d
abun.emm.t<-emmeans(abunmodel.d,pairwise~Trap)
abun.emm.t<-emmeans(abunmodel.d,pairwise~Trap)
abun.emm.t
#results: no sig diff btw any except bowl-sticky
abun.cld.t<-multcomp::cld(abun.emm.t, alpha = 0.05, Letters = LETTERS)
abun.cld.t
##diversity linear model
divmodel.d <- lmer(diversity~Date + design + Trap + (1|Site:Replicate), data=greenroofbugs)  #AIC = 248
summary(divmodel.d)
AIC(divmodel.d)
anova(divmodel.d)
div.emm.d<-emmeans(divmodel.d,pairwise~design)
div.emm.d
#results: no difference (p=0.1764)
div.cld.d<-multcomp::cld(div.emm.d, alpha = 0.05, Letters = LETTERS)
div.cld.d
div.emm.t<-emmeans(divmodel.d,pairwise~Trap)
div.emm.t
#results: sig diff between all except bowl-ramp & ramp-sticky
div.cld.t<-multcomp::cld(div.emm.t, alpha = 0.05, Letters = LETTERS)
div.cld.t
#NOT INCLUDING
##evenness linear mixed effects model
evenmodel.d <- lmer(evenness~Date + design + Trap + (1|Site:Replicate), data=greenroofbugs)  #AIC = -54
summary(evenmodel.d)
AIC(evenmodel.d)
anova(evenmodel.d)
even.emm.d<-emmeans(evenmodel.d,pairwise~design)
even.emm.d
#results: no difference btw design types (p 0.0734)
even.cld.d<-multcomp::cld(even.emm.d, alpha = 0.05, Letters = LETTERS)
even.cld.d
even.emm.t<-emmeans(evenmodel.d,pairwise~Trap)
even.emm.t
#results: no sig diff between any except bowl-sticky
even.cld.t<-multcomp::cld(even.emm.t, alpha = 0.05, Letters = LETTERS)
even.cld.t
#site richness by site type
richness.plot.d<-ggplot(greenroofbugs, aes(x = factor(design,level = c("SE","BE")), y = richness, fill=Site))+
geom_boxplot()+
theme_bw()+
theme(legend.position="bottom")+
labs(title="", x="", y="Richness")+
#theme (plot.title = element_text(hjust=0.5))+
scale_fill_manual(values=c("#B2DF8A","#FDBF6F","#33A02C","#FB9A99"),name="Sites:",
breaks=c("EWB", "WSC", "HDB", "SNC"),
labels=c("Edgewater beach", "Watershed stewardship center", "Happy dog bike box", "Shaker Lakes nature center"))
richness.plot.d
#site abundance by site type
abundance.plot.d<-ggplot(greenroofbugs, aes(x = factor(design,level = c("SE","BE")), y = abundance, fill=Site))+
geom_boxplot()+
theme_bw()+
theme(legend.position="bottom")+
labs(title="", x="", y="Abundance (log10)")+
scale_y_continuous(trans="log10")+
#theme (plot.title = element_text(hjust=0.5))+
#geom_text(data=abun.cld, aes(y = 25, label = .group))+
scale_fill_brewer(palette="Paired",name="Sites:",
breaks=c("EWB", "WSC", "HDB", "SNC"),
labels=c("Edgewater beach", "Watershed stewardship center", "Happy dog bike box", "Shaker Lakes nature center"))
abundance.plot.d
#site diversity by site type
diversity.plot.d<-ggplot(greenroofbugs, aes(x = factor(design,level = c("SE","BE")), y = diversity, fill=Site))+
geom_boxplot()+
theme_bw()+
theme(legend.position="bottom")+
labs(title="", x="", y="Diversity")+
#theme (plot.title = element_text(hjust=0.5))+
#geom_text(data=div.cld.s, aes(y = 2, label = .group))+
scale_fill_manual(values=c("#B2DF8A","#FDBF6F","#33A02C","#FB9A99"),name="Sites:",
breaks=c("EWB", "WSC", "HDB", "SNC"),
labels=c("Edgewater beach", "Watershed stewardship center", "Happy dog bike box", "Shaker Lakes nature center"))
diversity.plot.d
#site evenness by site type
evenness.plot.d<-ggplot(greenroofbugs, aes(x = factor(design,level = c("SE","BE")), y = evenness, fill=Site))+
geom_boxplot()+
theme_bw()+
theme(legend.position="bottom")+
labs(title="", x="", y="Evenness")+
#theme (plot.title = element_text(hjust=0.5))+
#geom_text(data=even.cld.s, aes(y = 25, label = .group))+
scale_fill_brewer(palette="Paired",name="Sites:",
breaks=c("EWB", "WSC", "HDB", "SNC"),
labels=c("Edgewater beach", "Watershed stewardship center", "Happy dog bike box", "Shaker Lakes nature center"))
evenness.plot.d
###
#mush together plots
library(ggpubr)
greenroofbugs_boxplot <- ggarrange(richness.plot.d, diversity.plot.d,
#labels = c("A", "B"),
ncol = 1, nrow = 2,
common.legend = TRUE, legend = "bottom")
greenroofbugs_boxplot
pdf("greenroofbugs_boxplot.pdf", height=8, width=8) #height and width in inches
greenroofbugs_boxplot
dev.off()
#import data
P <- read.csv("https://raw.githubusercontent.com/katiemmanning/Cleveland-insects/main/pollinators_2019%20and%202021.csv", na.strings = NULL)
NE <- read.csv("https://raw.githubusercontent.com/katiemmanning/Cleveland-insects/main/natural%20enemies_2019%20and%202021.csv", na.strings = NULL)
View(NE)
View(P)
